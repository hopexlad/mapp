<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KPRCAS Interactive Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; font-family: Arial, sans-serif; }
        #map { width: 100vw; height: 100vh; }

        /* Sidebar Navigation */
        .sidebar {
            position: absolute;
            left: 0;
            top: 0;
            width: 220px;
            height: 100vh;
            background: #222;
            padding: 15px;
            color: white;
            display: flex;
            flex-direction: column;
            transition: 0.3s;
        }

        .sidebar h2 { text-align: center; font-size: 18px; }
        .sidebar button {
            background: #ff6b00;
            border: none;
            padding: 10px;
            margin: 5px 0;
            color: white;
            cursor: pointer;
            width: 100%;
            border-radius: 5px;
            text-align: center;
        }
        .sidebar button:hover { background: #ff8800; }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <h2>Campus Map</h2>
        <button onclick="toggleRooms()">Toggle Rooms</button>
        <button onclick="toggleFloor()">Toggle Floor</button>
    </div>

    <!-- Map Container -->
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        var map = L.map('map', { minZoom: -2, maxZoom: 4, crs: L.CRS.Simple });

        var floors = {
            ground: {
                image: 'campus.png',
                bounds: [[0, 0], [302, 754]],
                markers: [
                    { name: "Food Court 1", coords: [214.83, 717.00] },
                    { name: "Food Court 2", coords: [66.75, 717.00] },
                    { name: "Auditorium 1", coords: [250.85, 601.00] },
                    { name: "Auditorium 2", coords: [54.75, 601.00] },
                    { name: "Seminar Hall", coords: [154.80, 610.00] },
                    { name: "Hostellers Mess", coords: [111.78, 603.00] },
                    { name: "Dining Area", coords: [190.82, 603.00] },
                    { name: "Lab 4", coords: [201.83, 514.00] },
                    { name: "Lab 3", coords: [102.77, 512.00] },
                    { name: "Library", coords: [47.74, 512.00] },
                    { name: "NCC", coords: [33.74, 471.00] },
                    { name: "OAT", coords: [150.80, 429.00] },
                    { name: "Lab 5", coords: [264.86, 482.00] },
                    { name: "Physical Education Room", coords: [263.86, 385.00] },
                    { name: "Stock Room", coords: [264.84, 353.00] },
                    { name: "Transport Office", coords: [262.86, 329.00] },
                    { name: "Medical Room", coords: [206.83, 351.00] }
                ]
            },
            first: {
                image: 'floor1.png',
                bounds: [[0, 0], [301, 528]],
                markers: [
                    { name: "BcomPA and (B&I)dep", coords: [264.50, 187.00] },
                    { name: "III(B&I)", coords: [263.50, 139.00] },
                    { name: "II(B&I)", coords: [261.75, 70.00] },
                    { name: "I(B&I)", coords: [262.75, 42.25] },
                    { name: "AF105", coords: [217.75, 15.00] },
                    { name: "AF106", coords: [184.50, 15.75] },
                    { name: "Admin Office", coords: [97.00, 17.00] },
                    { name: "AF108", coords: [34.50, 40.50] },
                    { name: "AF109", coords: [33.00, 71.00] },
                    { name: "3Bcom.PA", coords: [34.50, 138.50] },
                    { name: "AF111", coords: [36.00, 169.25] },
                    { name: "Girls Restroom", coords: [21.00, 217.00] },
                    { name: "Boys Restroom", coords: [24.00, 309.50] },
                    { name: "Lab 10", coords: [37.50, 377.50] },
                    { name: "Lab 9", coords: [39.50, 484.50] },
                    { name: "Lab 8", coords: [96.50, 514.50] },
                    { name: "Lab 7", coords: [160.00, 514.50] },
                    { name: "Lab 6", coords: [208.00, 513.50] }
                ]
            }
        };

        var currentFloor = 'ground';
        var imageOverlay = L.imageOverlay(floors[currentFloor].image, floors[currentFloor].bounds).addTo(map);
        map.fitBounds(floors[currentFloor].bounds);

        function toggleFloor() {
            currentFloor = currentFloor === 'ground' ? 'first' : 'ground';
            map.removeLayer(imageOverlay);
            imageOverlay = L.imageOverlay(floors[currentFloor].image, floors[currentFloor].bounds).addTo(map);
            map.fitBounds(floors[currentFloor].bounds);
        }
    </script>
</body>
</html>
